{"version":3,"sources":["webpack:///./components/Keyboard/backspace.png","webpack:///./components/Keyboard/AmountKeyboardUtils.ts","webpack:///./components/Keyboard/index.tsx","webpack:///./site/pages/Form/Keyboard/index.tsx","webpack:///./components/Icon/Loading.tsx","webpack:///./components/Popup/PopupToBody.tsx","webpack:///./components/Icon/index.tsx","webpack:///./components/Popup/Popup.tsx","webpack:///./components/Toast/Toast.tsx","webpack:///./components/Toast/index.tsx"],"names":["module","exports","findDot","amount","indexOf","keyboradDown","code","slice","length","popAmount","dotIndex","testDotBit","nextAmount","String","spliceAmount","test","replace","removePrefix","memo","props","_a","_b","setAmount","_c","prefixCls","className","style","children","onVisibleChange","onConfirm","onChange","_d","clean","_e","visible","setVisible","isControll","classString","lastBtn","handleKeyTouchstart","e","current","classList","remove","scrollLeft","key","currentTarget","undefined","getAttribute","add","handleKeyTouchend","navigator_1","window","navigator","vibrate","webkitVibrate","mozVibrate","msVibrate","_amount","_realAmount","parseFloat","createElement","onTouchStart","onTouchEnd","src","alt","onClick","show","amountStr","setAmountStr","Page","title","introduce","_amountStr","console","log","Toast","success","Loading","Component","closeFunc","div","document","body","appendChild","render","defaultVisible","getCloseFunc","close","getContainer","onUnmount","unmountComponentAtNode","parentNode","removeChild","icon","spin","internal","Icon","animateClassName","popupClassName","popupContentCLassName","duration","mask","maskClose","_f","_g","ref","state","opening","animateclassString","firstFlagRef","renderPortal","handleChange","_open","closeByMask","timeHandler","setTimeout","clearTimeout","content","type","rest","Popup","getIcon","msg","options","Object","assign","fail","info","loading"],"mappings":"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","file":"js/7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"images/backspace.b53ddd9.png\";","/**\n * 删除金额最后一位\n * @param amount 金额字符串\n */\nfunction popAmount(amount) {\n    if (amount) {\n        return amount.slice(0, amount.length - 1);\n    }\n    else {\n        return amount;\n    }\n}\n/**\n * 寻找小数点\n * @param amount 金额字符串\n */\nfunction findDot(amount) {\n    return amount.indexOf(\".\");\n}\n/**\n * 检测是否超过2位小数\n * @param amount 金额字符串\n */\nfunction testDotBit(amount) {\n    var dotIndex = findDot(amount);\n    if (dotIndex !== -1) {\n        // 最多输入2位小数\n        if (amount.slice(dotIndex).length > 2) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * 拼接金额\n * @param amount\n * @param nextAmount\n */\nfunction spliceAmount(amount, nextAmount) {\n    var amount = String(amount);\n    var nextAmount = String(nextAmount);\n    return amount + nextAmount;\n}\n/**\n * 补全尾部0\n */\nfunction appendZero(amount) {\n    if (amount.slice(amount.length - 1) == \".\") {\n        return amount + \"0\";\n    }\n    else {\n        return amount;\n    }\n}\n/**\n * 去掉金额前缀0\n * @param amount\n */\nfunction removePrefix(amount) {\n    // 前缀输入多个0, 比如 0001 时， 格式化为一个0\n    if (/^(0{2,})/.test(amount)) {\n        return amount.replace(/^(0{2,})/, \"0\");\n    }\n    // 如果输入 0512 这种 而不是 0.5 这种则格式化去掉前缀0\n    if (/^0/.test(amount) && /^0[^\\\\.]/.test(amount)) {\n        return amount.replace(/^0/, \"\");\n    }\n    return amount;\n}\n/**\n * 数字键盘被按下\n * @param amount 当前金额字符串\n * @param code 按下的字符\n */\nexport function keyboradDown(amount, code) {\n    if (amount === undefined || amount === null) {\n        amount = \"\";\n    }\n    switch (code) {\n        case \"clear\":\n            amount = \"\";\n            break;\n        case \"backspace\":\n            amount = popAmount(amount);\n            break;\n        case \".\":\n            if (amount == \"\") {\n                amount = \"0.\";\n            }\n            else if (findDot(amount) == -1 && amount.length >= 1) {\n                // 确保不能输入多个小数点\n                amount = amount + \".\";\n            }\n            break;\n        default:\n            // 确保只能输入2未小数\n            if (testDotBit(amount)) {\n                amount = spliceAmount(amount, code);\n            }\n            break;\n    }\n    amount = removePrefix(amount);\n    return amount;\n}\n","import classNames from \"classnames\";\nimport React, { useRef, useState } from \"react\";\nimport { useControll } from \"utils-hooks\";\nimport \"./style/index.scss\";\nimport { keyboradDown } from \"./AmountKeyboardUtils\";\nfunction Keyboard(props) {\n    var _a;\n    var _b = useState(null), amount = _b[0], setAmount = _b[1];\n    var _c = props.prefixCls, prefixCls = _c === void 0 ? \"xy-keyboard\" : _c, className = props.className, style = props.style, children = props.children, onVisibleChange = props.onVisibleChange, onConfirm = props.onConfirm, onChange = props.onChange, _d = props.clean, clean = _d === void 0 ? \"Clear\" : _d;\n    var _e = useControll(props, \"visible\", \"defaultVisible\", false), visible = _e[0], setVisible = _e[1], isControll = _e[2];\n    var classString = classNames(prefixCls, className, (_a = {},\n        _a[prefixCls + \"-show\"] = visible,\n        _a));\n    var lastBtn = useRef(null);\n    function changeVisible(show) {\n        if (!isControll) {\n            setVisible(show);\n        }\n        if (onVisibleChange) {\n            onVisibleChange(show);\n        }\n    }\n    function handleKeyTouchstart(e) {\n        if (lastBtn.current) {\n            lastBtn.current.classList.remove(\"down\");\n            lastBtn.current.scrollLeft;\n        }\n        var key = e.currentTarget;\n        var code = key.getAttribute(\"data-code\");\n        if (code === undefined) {\n            return;\n        }\n        key.classList.add(\"down\");\n    }\n    function handleKeyTouchend(e) {\n        var key = e.currentTarget;\n        lastBtn.current = key;\n        var code = key.getAttribute(\"data-code\");\n        if (code !== undefined) {\n            var navigator_1 = window.navigator;\n            navigator_1.vibrate = navigator_1.vibrate || navigator_1.webkitVibrate || navigator_1.mozVibrate || navigator_1.msVibrate;\n            if (navigator_1.vibrate) {\n                window.navigator.vibrate(300);\n            }\n            var _amount = keyboradDown(amount, code);\n            var _realAmount = parseFloat(_amount);\n            if (_amount == \"\") {\n                _realAmount = 0;\n            }\n            setAmount(_amount);\n            if (onChange) {\n                onChange(_realAmount, _amount, code);\n            }\n        }\n    }\n    function handleConfirm() {\n        changeVisible(false);\n        if (onConfirm) {\n            var _realAmount = parseFloat(amount);\n            if (amount == \"\") {\n                _realAmount = 0;\n            }\n            onConfirm(_realAmount, amount);\n        }\n    }\n    return (React.createElement(\"div\", { className: classString, style: style },\n        React.createElement(\"div\", { className: prefixCls + \"-inner\" },\n            React.createElement(\"a\", { className: classNames(prefixCls + \"-key\", \"left-0 top-0\"), \"data-code\": \"1\", onTouchStart: handleKeyTouchstart, onTouchEnd: handleKeyTouchend }, \"1\"),\n            React.createElement(\"a\", { className: classNames(prefixCls + \"-key\", \"left-1 top-0\"), \"data-code\": \"2\", onTouchStart: handleKeyTouchstart, onTouchEnd: handleKeyTouchend }, \"2\"),\n            React.createElement(\"a\", { className: classNames(prefixCls + \"-key\", \"left-2 top-0\"), \"data-code\": \"3\", onTouchStart: handleKeyTouchstart, onTouchEnd: handleKeyTouchend }, \"3\"),\n            React.createElement(\"a\", { className: classNames(prefixCls + \"-key\", \"left-0 top-1\"), \"data-code\": \"4\", onTouchStart: handleKeyTouchstart, onTouchEnd: handleKeyTouchend }, \"4\"),\n            React.createElement(\"a\", { className: classNames(prefixCls + \"-key\", \"left-1 top-1\"), \"data-code\": \"5\", onTouchStart: handleKeyTouchstart, onTouchEnd: handleKeyTouchend }, \"5\"),\n            React.createElement(\"a\", { className: classNames(prefixCls + \"-key\", \"left-2 top-1\"), \"data-code\": \"6\", onTouchStart: handleKeyTouchstart, onTouchEnd: handleKeyTouchend }, \"6\"),\n            React.createElement(\"a\", { className: classNames(prefixCls + \"-key\", \"left-0 top-2\"), \"data-code\": \"7\", onTouchStart: handleKeyTouchstart, onTouchEnd: handleKeyTouchend }, \"7\"),\n            React.createElement(\"a\", { className: classNames(prefixCls + \"-key\", \"left-1 top-2\"), \"data-code\": \"8\", onTouchStart: handleKeyTouchstart, onTouchEnd: handleKeyTouchend }, \"8\"),\n            React.createElement(\"a\", { className: classNames(prefixCls + \"-key\", \"left-2 top-2\"), \"data-code\": \"9\", onTouchStart: handleKeyTouchstart, onTouchEnd: handleKeyTouchend }, \"9\"),\n            React.createElement(\"a\", { className: classNames(prefixCls + \"-key\", \"left-0 top-3\"), \"data-code\": \"clear\", onTouchStart: handleKeyTouchstart, onTouchEnd: handleKeyTouchend }, clean),\n            React.createElement(\"a\", { className: classNames(prefixCls + \"-key\", \"left-1 top-3\"), \"data-code\": \"0\", onTouchStart: handleKeyTouchstart, onTouchEnd: handleKeyTouchend }, \"0\"),\n            React.createElement(\"a\", { className: classNames(prefixCls + \"-key\", \"left-2 top-3\"), \"data-code\": \".\", onTouchStart: handleKeyTouchstart, onTouchEnd: handleKeyTouchend }, \".\"),\n            React.createElement(\"a\", { className: classNames(prefixCls + \"-key\", \"left-3 top-0\"), \"data-code\": \"backspace\", onTouchStart: handleKeyTouchstart, onTouchEnd: handleKeyTouchend },\n                React.createElement(\"img\", { src: require(\"./backspace.png\"), alt: \"\" })),\n            React.createElement(\"a\", { className: classNames(prefixCls + \"-key\", \"left-3 top-1 confirm-btn\"), onClick: handleConfirm }, children))));\n}\nexport default React.memo(Keyboard);\n","import React, { useState } from \"react\";\nimport Page from \"site/components/Page\";\nimport { Keyboard, Toast } from \"weui-react\";\nimport \"./index.scss\";\nfunction KeyboardDemo() {\n    var _a = useState(null), amountStr = _a[0], setAmountStr = _a[1];\n    function amountChange(amount, _amountStr) {\n        console.log(\"金额\", amount);\n        setAmountStr(_amountStr);\n    }\n    function submit(amount) {\n        Toast.success(\"提交金额\" + amount);\n    }\n    return (React.createElement(Page, { className: \"keyboard-demo\", title: \"Keyboard\", introduce: \"\\u91D1\\u989D\\u952E\\u76D8\" },\n        React.createElement(\"div\", { className: \"payment-page__bd\" },\n            React.createElement(\"h1\", { className: \"paymeny-title\" }, \"\\u8F93\\u5165\\u4ED8\\u6B3E\\u91D1\\u989D\"),\n            React.createElement(\"div\", { className: \"fake-amount-input\" },\n                React.createElement(\"div\", { className: \"amount-placeholder\" }, \"\\u8BF7\\u8F93\\u5165\\u91D1\\u989D\"),\n                React.createElement(\"div\", { className: \"amount-input\" }),\n                React.createElement(\"div\", { className: \"amount_plan\" },\n                    React.createElement(\"span\", { className: \"amount\" }, amountStr),\n                    React.createElement(\"span\", { className: \"unit\" }, \"$\")))),\n        React.createElement(Keyboard, { visible: true, onChange: amountChange, onConfirm: submit },\n            React.createElement(\"span\", { className: \"submit-btn\" },\n                React.createElement(\"div\", null, \"\\u786E\"),\n                React.createElement(\"div\", null, \"\\u8BA4\")))));\n}\nexport default React.memo(KeyboardDemo);\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport \"./style/index.scss\";\n/**\n * 加载图标\n * @param props\n */\nexport function Loading(props) {\n    var _a = props.prefixCls, prefixCls = _a === void 0 ? \"weui-loading\" : _a, className = props.className, style = props.style;\n    return React.createElement(\"i\", { className: classNames(prefixCls, className), style: style });\n}\nexport default React.memo(Loading);\n","import { __assign } from \"tslib\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nfunction PopupComponent(Component, props) {\n    var closeFunc;\n    var div = document.createElement(\"div\");\n    document.body.appendChild(div);\n    ReactDOM.render(React.createElement(Component, __assign({}, props, { defaultVisible: true, getCloseFunc: function (close) {\n            closeFunc = close;\n        }, getContainer: div, onUnmount: function () {\n            ReactDOM.unmountComponentAtNode(div);\n            div.parentNode.removeChild(div);\n        } })), div);\n    return closeFunc;\n}\nexport default PopupComponent;\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport \"./style/index.scss\";\n/**\n * 图标\n * @description 配合 @svgr/webpack 使用\n * @param props\n */\nfunction Icon(props) {\n    var _a = props.prefixCls, prefixCls = _a === void 0 ? \"weui-icon\" : _a, className = props.className, style = props.style, onClick = props.onClick, icon = props.icon, _b = props.spin, spin = _b === void 0 ? false : _b, children = props.children;\n    var internal = typeof icon === \"string\";\n    var Icon = icon;\n    return (React.createElement(\"i\", { className: classNames(prefixCls, className, internal ? prefixCls + \"-\" + icon : null, { spin: spin }), style: style, onClick: onClick },\n        !internal && React.createElement(Icon, null),\n        children));\n}\nexport default React.memo(Icon);\n","import classNames from \"classnames\";\nimport React, { useEffect, useRef } from \"react\";\nimport { EXITED, useControll, useMount, useTranstion, ENTERED, usePortal } from \"utils-hooks\";\nimport \"./style/index.scss\";\nfunction Popup(props) {\n    var _a;\n    var _b = props.prefixCls, prefixCls = _b === void 0 ? \"weui-popup\" : _b, _c = props.animateClassName, animateClassName = _c === void 0 ? \"fade\" : _c, popupClassName = props.popupClassName, popupContentCLassName = props.popupContentCLassName, duration = props.duration, onUnmount = props.onUnmount, children = props.children, onVisibleChange = props.onVisibleChange, getCloseFunc = props.getCloseFunc, _d = props.mask, mask = _d === void 0 ? true : _d, _e = props.maskClose, maskClose = _e === void 0 ? true : _e, getContainer = props.getContainer;\n    var _f = useControll(props, \"visible\", \"defaultVisible\"), visible = _f[0], setVisible = _f[1], isControll = _f[2];\n    var _g = useTranstion(visible), ref = _g[0], state = _g[1];\n    var opening = state.indexOf(\"en\") !== -1;\n    var animateclassString = classNames(animateClassName, animateClassName + \"-state-\" + state, (_a = {},\n        _a[animateClassName + \"-open\"] = opening,\n        _a));\n    var firstFlagRef = useRef(visible);\n    var renderPortal = usePortal(\"\", getContainer)[0];\n    function handleChange(_open) {\n        if (!isControll) {\n            setVisible(_open);\n        }\n        if (onVisibleChange) {\n            onVisibleChange(_open);\n        }\n    }\n    function closeByMask() {\n        if (maskClose) {\n            handleChange(false);\n        }\n    }\n    useEffect(function () {\n        if (state === ENTERED) {\n            firstFlagRef.current = true;\n        }\n        else if (state === EXITED && firstFlagRef.current === true) {\n            if (onUnmount) {\n                onUnmount();\n            }\n        }\n    }, [state]);\n    useMount(function () {\n        var timeHandler;\n        if (duration) {\n            timeHandler = setTimeout(function () { return handleChange(false); }, duration);\n        }\n        return function () { return clearTimeout(timeHandler); };\n    });\n    if (getCloseFunc) {\n        getCloseFunc(function () {\n            handleChange(false);\n        });\n    }\n    function content() {\n        var _a;\n        return (React.createElement(\"div\", { className: classNames(prefixCls, popupClassName, prefixCls + \"-state-\" + state, (_a = {}, _a[prefixCls + \"-open\"] = opening, _a)) },\n            React.createElement(\"div\", { className: classNames(prefixCls + \"-mask\", { \"hidden-mask\": !mask }), onClick: closeByMask }),\n            React.createElement(\"div\", { className: classNames(prefixCls + \"-content\", popupContentCLassName, animateclassString), ref: ref }, children)));\n    }\n    return renderPortal(content());\n}\nexport default React.memo(Popup);\n","import { __assign, __rest } from \"tslib\";\nimport classNames from \"classnames\";\nimport React from \"react\";\nimport Icon from \"../Icon\";\nimport Loading from \"../Icon/Loading\";\nimport { Popup } from \"../Popup\";\nimport \"./style/index.scss\";\nfunction getIcon(type) {\n    switch (type) {\n        case \"error\":\n            return React.createElement(Icon, { icon: \"warn\" });\n        case \"info\":\n            return React.createElement(Icon, { icon: \"info\" });\n        case \"loading\":\n            return React.createElement(Loading, null);\n        default:\n            return React.createElement(Icon, { icon: \"success\" });\n    }\n}\nfunction Toast(props) {\n    var _a = props.prefixCls, prefixCls = _a === void 0 ? \"xy-toast\" : _a, className = props.className, style = props.style, _b = props.type, type = _b === void 0 ? \"success\" : _b, children = props.children, _c = props.duration, duration = _c === void 0 ? 3000 : _c, rest = __rest(props, [\"prefixCls\", \"className\", \"style\", \"type\", \"children\", \"duration\"]);\n    return (React.createElement(Popup, __assign({}, rest, { duration: duration, mask: false, maskClose: false, popupClassName: prefixCls + \"-popup\", popupContentCLassName: prefixCls + \"-wrapper\" }),\n        React.createElement(\"div\", { className: classNames(prefixCls, className), style: style, \"data-type\": type },\n            React.createElement(\"div\", { className: prefixCls + \"-icon\" }, getIcon(type)),\n            React.createElement(\"div\", { className: prefixCls + \"-msg\" }, children))));\n}\nexport default React.memo(Toast);\n","import ToastComponent from \"./Toast\";\nimport { PopupComponent } from \"../Popup\";\nvar Toast = /** @class */ (function () {\n    function Toast() {\n    }\n    /**\n     * 成功提示\n     * @param msg 提示内容\n     * @param duration 持续时间\n     * @param options\n     */\n    Toast.success = function (msg, duration, options) {\n        return PopupComponent(ToastComponent, Object.assign({}, options, { children: msg, duration: duration, type: \"success\" }));\n    };\n    /**\n     * 失败提示\n     * @param msg 提示内容\n     * @param duration 持续时间\n     * @param options\n     */\n    Toast.fail = function (msg, duration, options) {\n        return PopupComponent(ToastComponent, Object.assign({}, options, { children: msg, duration: duration, type: \"error\" }));\n    };\n    /**\n     * 提示\n     * @param msg 提示内容\n     * @param duration 持续时间\n     * @param options\n     */\n    Toast.info = function (msg, duration, options) {\n        return PopupComponent(ToastComponent, Object.assign({}, options, { children: msg, duration: duration, type: \"info\" }));\n    };\n    /**\n     * 加载提示\n     * @param msg 提示内容\n     * @param duration 持续时间\n     * @param options\n     */\n    Toast.loading = function (msg, duration, options) {\n        return PopupComponent(ToastComponent, Object.assign({}, options, { children: msg, duration: duration, type: \"loading\" }));\n    };\n    return Toast;\n}());\nexport default Toast;\n"],"sourceRoot":""}