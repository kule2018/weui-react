{"version":3,"sources":["webpack:///./components/List/ListGroup.tsx","webpack:///./components/Form/FormItem.tsx","webpack:///./components/Icon/index.tsx","webpack:///./components/Toast/Toast.tsx","webpack:///./components/Toast/index.tsx","webpack:///./components/Input/Input.tsx","webpack:///./components/Input/InputItem.tsx","webpack:///./node_modules/xy-form/es/FormSubmitButton.js","webpack:///./site/pages/Form/Form/Validate.tsx"],"names":["memo","props","_a","prefixCls","className","style","title","children","_b","formMode","createElement","label","required","footer","arrow","onClick","head","rest","disabled","_c","failValidateResult","setFailValidateResult","_disabled","lastFailValidateRef","classString","current","length","_d","labelStr","setLabel","ref","labelElement","textContent","innerText","Provider","value","onValidateChange","prop","validateResult","lastFailValida","i","findIndex","x","status","filter","msg","icon","spin","internal","Icon","type","duration","Popup","maskClose","popupClassName","popupContentCLassName","Loading","getIcon","Toast","success","options","Object","assign","fail","info","loading","Input","forwardRef","onBlur","defaultValue","onChange","genericProps","setValue","isControll","event","val","target","e","document","body","scrollTop","documentElement","NumberNormalize","parseFloat","content","FormContext","formMethods","id","name","placeholder","autoFocus","tabIndex","onFocus","onKeyDown","onCompositionStart","onCompositionEnd","pattern","maxLength","clearable","converNumber","visible","setVisible","timeHandler","inputProps","window","clearTimeout","getFieldValue","setTimeout","normalize","cleanIcon","setFieldValue","FormItem","FormSubmitButton","context","setLoading","cloneElement","submit","then","catch","stopPropagation","preventDefault","rule","phone","errMsg","history","Form","desc","validConfig","onSubmit","data","console","log","stop","Promise","resolve","reject","Tooptips","opr","Fragment","Button","goBack","ListGroup","InputItem"],"mappings":"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","file":"js/17.chunk.js","sourcesContent":["import React from \"react\";\nimport classNames from \"classnames\";\nimport \"./style/index.scss\";\nimport List from \"./List\";\n/**\n * 列表组\n */\nfunction ListGroup(props) {\n    var _a = props.prefixCls, prefixCls = _a === void 0 ? \"weui-cells\" : _a, className = props.className, style = props.style, title = props.title, children = props.children, _b = props.formMode, formMode = _b === void 0 ? true : _b;\n    return (React.createElement(\"div\", { className: classNames(prefixCls + \"__group\", className, formMode ? \"weui-cells__group_form\" : \"\"), style: style },\n        React.createElement(List, { className: formMode ? \"weui-cells_form\" : \"\", title: title }, children)));\n}\nexport default React.memo(ListGroup);\n","import { __assign, __rest, __spreadArrays } from \"tslib\";\nimport classNames from \"classnames\";\nimport React, { useContext, useRef, useState } from \"react\";\nimport { FormContext, FormItemContext, FormItemField } from \"xy-form\";\nimport { ListItem } from \"../List\";\nimport \"./style/index.scss\";\nfunction FormItem(props) {\n    var _a;\n    var _b = props.prefixCls, prefixCls = _b === void 0 ? \"form-item\" : _b, className = props.className, style = props.style, label = props.label, required = props.required, footer = props.footer, arrow = props.arrow, onClick = props.onClick, children = props.children, head = props.head, disabled = props.disabled, rest = __rest(props, [\"prefixCls\", \"className\", \"style\", \"label\", \"required\", \"footer\", \"arrow\", \"onClick\", \"children\", \"head\", \"disabled\"]);\n    var _c = useState([]), failValidateResult = _c[0], setFailValidateResult = _c[1];\n    var content = useContext(FormContext);\n    var _disabled = content.disabled || props.disabled;\n    // Tips: 通过ref来确保failValidateResult是最新的值, validateChangeHandle函数中failValidateResult总是第一次初始化的值!\n    var lastFailValidateRef = useRef(failValidateResult);\n    var classString = classNames(prefixCls, className, (_a = {},\n        _a[prefixCls + \"-required\"] = required,\n        _a[prefixCls + \"-error\"] = lastFailValidateRef.current.length > 0,\n        _a[\"weui-cell_disabled\"] = _disabled,\n        _a));\n    var _d = useState(typeof props.label === \"string\" ? props.label : null), labelStr = _d[0], setLabel = _d[1];\n    function labelMount(labelElement) {\n        if (!labelStr && labelElement) {\n            setLabel(labelElement.textContent || labelElement.innerText);\n        }\n    }\n    function validateChangeHandle(prop, validateResult) {\n        var lastFailValida = lastFailValidateRef.current;\n        var i = lastFailValida.findIndex(function (x) { return x.prop === prop; });\n        if (validateResult.status) {\n            if (i !== -1) {\n                // 清除上一次验证失败\n                lastFailValidateRef.current = lastFailValida.filter(function (x) { return x.prop !== prop; });\n                setFailValidateResult(lastFailValidateRef.current);\n            }\n        }\n        else {\n            if (i !== -1) {\n                lastFailValida[i].msg = validateResult.msg;\n                setFailValidateResult(__spreadArrays(lastFailValida));\n            }\n            else {\n                lastFailValidateRef.current = __spreadArrays(lastFailValida, [__assign({ prop: prop }, validateResult)]);\n                setFailValidateResult(lastFailValidateRef.current);\n            }\n        }\n    }\n    return (React.createElement(ListItem, { className: classString, style: style, arrow: arrow, footer: footer, onClick: onClick, head: head || (React.createElement(\"label\", { className: \"weui-label\", ref: labelMount }, label)) },\n        React.createElement(FormItemContext.Provider, { value: { onValidateChange: validateChangeHandle, label: labelStr } }, \"prop\" in props ? React.createElement(FormItemField, __assign({}, rest), children) : children)));\n}\nexport default React.memo(FormItem);\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport \"./style/index.scss\";\n/**\n * 图标\n * @description 配合 @svgr/webpack 使用\n * @param props\n */\nfunction Icon(props) {\n    var _a = props.prefixCls, prefixCls = _a === void 0 ? \"weui-icon\" : _a, className = props.className, style = props.style, onClick = props.onClick, icon = props.icon, _b = props.spin, spin = _b === void 0 ? false : _b, children = props.children;\n    var internal = typeof icon === \"string\";\n    var Icon = icon;\n    return (React.createElement(\"i\", { className: classNames(prefixCls, className, internal ? prefixCls + \"-\" + icon : null, { spin: spin }), style: style, onClick: onClick },\n        !internal && React.createElement(Icon, null),\n        children));\n}\nexport default React.memo(Icon);\n","import { __assign, __rest } from \"tslib\";\nimport classNames from \"classnames\";\nimport React from \"react\";\nimport Icon from \"../Icon\";\nimport Loading from \"../Icon/Loading\";\nimport { Popup } from \"../Popup\";\nimport \"./style/index.scss\";\nfunction getIcon(type) {\n    switch (type) {\n        case \"error\":\n            return React.createElement(Icon, { icon: \"warn\" });\n        case \"info\":\n            return React.createElement(Icon, { icon: \"info\" });\n        case \"loading\":\n            return React.createElement(Loading, null);\n        default:\n            return React.createElement(Icon, { icon: \"success\" });\n    }\n}\nfunction Toast(props) {\n    var _a = props.prefixCls, prefixCls = _a === void 0 ? \"xy-toast\" : _a, className = props.className, style = props.style, _b = props.type, type = _b === void 0 ? \"success\" : _b, children = props.children, _c = props.duration, duration = _c === void 0 ? 3000 : _c, rest = __rest(props, [\"prefixCls\", \"className\", \"style\", \"type\", \"children\", \"duration\"]);\n    return (React.createElement(Popup, __assign({}, rest, { duration: duration, maskClose: false, popupClassName: prefixCls + \"-popup\", popupContentCLassName: prefixCls + \"-wrapper\" }),\n        React.createElement(\"div\", { className: classNames(prefixCls, className), style: style, \"data-type\": type },\n            React.createElement(\"div\", { className: prefixCls + \"-icon\" }, getIcon(type)),\n            React.createElement(\"div\", { className: prefixCls + \"-msg\" }, children))));\n}\nexport default React.memo(Toast);\n","import ToastComponent from \"./Toast\";\nimport { PopupComponent } from \"../Popup\";\nvar Toast = /** @class */ (function () {\n    function Toast() {\n    }\n    /**\n     * 成功提示\n     * @param msg 提示内容\n     * @param duration 持续时间\n     * @param options\n     */\n    Toast.success = function (msg, duration, options) {\n        return PopupComponent(ToastComponent, Object.assign({}, options, { children: msg, duration: duration, type: \"success\" }));\n    };\n    /**\n     * 失败提示\n     * @param msg 提示内容\n     * @param duration 持续时间\n     * @param options\n     */\n    Toast.fail = function (msg, duration, options) {\n        return PopupComponent(ToastComponent, Object.assign({}, options, { children: msg, duration: duration, type: \"error\" }));\n    };\n    /**\n     * 提示\n     * @param msg 提示内容\n     * @param duration 持续时间\n     * @param options\n     */\n    Toast.info = function (msg, duration, options) {\n        return PopupComponent(ToastComponent, Object.assign({}, options, { children: msg, duration: duration, type: \"info\" }));\n    };\n    /**\n     * 加载提示\n     * @param msg 提示内容\n     * @param duration 持续时间\n     * @param options\n     */\n    Toast.loading = function (msg, duration, options) {\n        return PopupComponent(ToastComponent, Object.assign({}, options, { children: msg, duration: duration, type: \"loading\" }));\n    };\n    return Toast;\n}());\nexport default Toast;\n","import { __assign, __rest } from \"tslib\";\nimport classNames from \"classnames\";\nimport React from \"react\";\nimport { useControll } from \"utils-hooks\";\nimport \"./style/index.scss\";\nvar Input = React.forwardRef(function (props, ref) {\n    var _a = props.prefixCls, prefixCls = _a === void 0 ? \"weui-input\" : _a, className = props.className, style = props.style, _b = props.type, type = _b === void 0 ? \"text\" : _b, defaultValue = props.defaultValue, onBlur = props.onBlur, onChange = props.onChange, genericProps = __rest(props, [\"prefixCls\", \"className\", \"style\", \"type\", \"defaultValue\", \"onBlur\", \"onChange\"]);\n    var classString = classNames(prefixCls, className);\n    var _c = useControll(props, \"value\", \"defaultValue\"), value = _c[0], setValue = _c[1], isControll = _c[2];\n    function changeValue(val) {\n        if (props.disabled) {\n            return;\n        }\n        if (!isControll) {\n            setValue(val);\n        }\n        if (onChange) {\n            onChange(val);\n        }\n    }\n    function changeHandle(event) {\n        changeValue(event.target.value);\n    }\n    function blurHandle(e) {\n        if (onBlur) {\n            onBlur(e);\n        }\n        // Tips: 防止ios键盘底部位置空出\n        document.body.scrollTop = 0;\n        document.documentElement.scrollTop = 0;\n    }\n    genericProps[\"style\"] = style;\n    genericProps[\"ref\"] = ref;\n    return React.createElement(\"input\", __assign({}, genericProps, { type: type }, (isControll ? { value: value || \"\" } : { defaultValue: value }), { \"aria-disabled\": props.disabled, className: classString, onChange: changeHandle, onBlur: blurHandle }));\n});\nexport default React.memo(Input);\n","import { __assign, __rest } from \"tslib\";\nimport classNames from \"classnames\";\nimport React, { useContext, useRef, useState } from \"react\";\nimport { useMount } from \"utils-hooks\";\nimport { FormContext } from \"xy-form\";\nimport { FormItem } from \"../Form\";\nimport Icon from \"../Icon\";\nimport Input from \"./Input\";\nimport \"./style/index.scss\";\nfunction NumberNormalize(val) {\n    if (val) {\n        return parseFloat(val);\n    }\n    else {\n        return null;\n    }\n}\nfunction InputItem(props) {\n    var content = useContext(FormContext);\n    var formMethods = content && content.formMethods;\n    var type = props.type, prefixCls = props.prefixCls, className = props.className, style = props.style, id = props.id, name = props.name, value = props.value, defaultValue = props.defaultValue, placeholder = props.placeholder, autoFocus = props.autoFocus, tabIndex = props.tabIndex, onFocus = props.onFocus, onBlur = props.onBlur, onKeyDown = props.onKeyDown, onChange = props.onChange, onCompositionStart = props.onCompositionStart, onCompositionEnd = props.onCompositionEnd, pattern = props.pattern, maxLength = props.maxLength, _a = props.clearable, clearable = _a === void 0 ? false : _a, _b = props.converNumber, converNumber = _b === void 0 ? false : _b, rest = __rest(props, [\"type\", \"prefixCls\", \"className\", \"style\", \"id\", \"name\", \"value\", \"defaultValue\", \"placeholder\", \"autoFocus\", \"tabIndex\", \"onFocus\", \"onBlur\", \"onKeyDown\", \"onChange\", \"onCompositionStart\", \"onCompositionEnd\", \"pattern\", \"maxLength\", \"clearable\", \"converNumber\"]);\n    var _c = useState(false), visible = _c[0], setVisible = _c[1];\n    var timeHandler = useRef(null);\n    var inputProps = {\n        type: type,\n        prefixCls: prefixCls,\n        style: style,\n        id: id,\n        name: name,\n        value: value,\n        defaultValue: defaultValue,\n        placeholder: placeholder,\n        autoFocus: autoFocus,\n        tabIndex: tabIndex,\n        onFocus: focusHandle,\n        onBlur: blurHandle,\n        onKeyDown: onKeyDown,\n        onChange: changeHandle,\n        onCompositionStart: onCompositionStart,\n        onCompositionEnd: onCompositionEnd,\n        pattern: pattern,\n        maxLength: maxLength,\n    };\n    if (\"disabled\" in props) {\n        inputProps.disabled = props.disabled;\n    }\n    if (converNumber && props.type === \"number\" && !props.normalize) {\n        rest.normalize = NumberNormalize;\n    }\n    function changeHandle(val) {\n        if (val) {\n            if (!visible) {\n                setVisible(true);\n            }\n        }\n        else {\n            if (visible) {\n                setVisible(false);\n            }\n        }\n        if (onChange) {\n            onChange(val);\n        }\n    }\n    function focusHandle(e) {\n        window.clearTimeout(timeHandler.current);\n        if (onFocus) {\n            onFocus(e);\n        }\n        if (formMethods && props.prop) {\n            if (formMethods.getFieldValue(props.prop) && !visible) {\n                setVisible(true);\n            }\n        }\n    }\n    function blurHandle(e) {\n        if (onBlur) {\n            onBlur(e);\n        }\n        // blur 太快将 cleanIcon 隐藏，则 cleanIcon的onClick清除事件会无效\n        timeHandler.current = setTimeout(function () {\n            if (visible) {\n                setVisible(false);\n            }\n        }, 50);\n        // Tips: 防止ios键盘底部位置空出\n        // document.body.scrollTop = 0;\n        // document.documentElement.scrollTop = 0;\n    }\n    function clean() {\n        if (formMethods && props.prop) {\n            // Tips: 外部必须设置 prop 全路径\n            formMethods.setFieldValue(props.prop, \"\");\n        }\n    }\n    var cleanIcon = (React.createElement(\"a\", { className: classNames(\"weui-btn_reset weui-btn_icon weui-btn_input-clear\", { visible: visible && clearable }), onClick: clean },\n        React.createElement(Icon, { icon: \"clear\" })));\n    useMount(function () {\n        window.clearTimeout(timeHandler.current);\n    });\n    return (React.createElement(FormItem, __assign({}, rest, { className: classNames(className, \"input-item\"), footer: rest.footer || cleanIcon }),\n        React.createElement(Input, __assign({}, inputProps))));\n}\nexport default React.memo(InputItem);\n","import React, { useContext, useState } from \"react\";\nimport { FormContext } from \"./Context/FormContext\";\n/**\n * 提交按钮\n */\nexport default function FormSubmitButton(_a) {\n    var children = _a.children;\n    var context = useContext(FormContext);\n    var _b = useState(null), loading = _b[0], setLoading = _b[1];\n    function clickHande(e) {\n        setLoading(true);\n        context.formMethods\n            .submit(true)\n            .then(function () {\n            setLoading(false);\n        })\n            .catch(function () {\n            setLoading(false);\n        });\n        e.stopPropagation();\n        e.preventDefault();\n    }\n    return React.cloneElement(children, { onClick: clickHande, loading: loading });\n}\n//# sourceMappingURL=FormSubmitButton.js.map","import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { Button, Form, InputItem, ListGroup, Toast, TooptipsPopup } from \"weui-react\";\nimport { FormSubmitButton } from \"xy-form\";\nvar requiredErrorTips = \"{{NAME}}必填\";\nvar rule = {\n    phone: [{ name: \"Required\", errMsg: requiredErrorTips }, { name: \"PhoneNo\" }],\n    name: [{ name: \"Required\", errMsg: requiredErrorTips }],\n};\nfunction FormValidateDemo(_a) {\n    var history = _a.history;\n    function submit(data) {\n        console.log(data);\n        var stop = Toast.loading(\"登录中...\", 0);\n        return new Promise(function (resolve, reject) {\n            setTimeout(function () {\n                stop();\n                TooptipsPopup({ type: \"success\", children: \"登陆成功\" });\n                resolve();\n            }, 600);\n        });\n    }\n    return (React.createElement(Form, { title: \"\\u8868\\u5355\\u6807\\u9898\", desc: \"\\u8868\\u5355\\u8BF4\\u660E\", validConfig: rule, onSubmit: submit, opr: React.createElement(React.Fragment, null,\n            React.createElement(FormSubmitButton, null,\n                React.createElement(Button, { type: \"primary\" }, \"\\u767B \\u5F55\")),\n            React.createElement(Button, { onClick: function () { return history.goBack(); } }, \"\\u8FD4\\u56DE\")) },\n        React.createElement(ListGroup, null,\n            React.createElement(InputItem, { prop: \"phone\", label: \"\\u624B\\u673A\\u53F7\", type: \"number\", clearable: true, placeholder: \"\\u8BF7\\u8F93\\u516511\\u4F4D\\u624B\\u673A\\u53F7\", pattern: \"[0-9]*\", maxLength: 11 }),\n            React.createElement(InputItem, { prop: \"name\", label: \"\\u59D3\\u540D\", placeholder: \"\\u8BF7\\u8F93\\u5165\\u60A8\\u7684\\u771F\\u5B9E\\u59D3\\u540D\" }))));\n}\nexport default withRouter(FormValidateDemo);\n"],"sourceRoot":""}