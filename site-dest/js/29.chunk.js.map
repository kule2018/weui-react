{"version":3,"sources":["webpack:///./node_modules/xy-badge/node_modules/utils-hooks/es/Lifecycles/useMount.js","webpack:///./node_modules/xy-badge/node_modules/utils-hooks/es/Lifecycles/useUpdateEffect.js","webpack:///./node_modules/xy-badge/node_modules/utils-hooks/es/State/useGlobalState.js","webpack:///./node_modules/xy-badge/es/ScrollNumberItem.js","webpack:///./node_modules/xy-badge/es/ScrollNumber.js","webpack:///./node_modules/xy-badge/es/BadgeDot.js","webpack:///./node_modules/xy-badge/es/Badge.js","webpack:///./components/Badge/index.tsx","webpack:///./site/pages/Basic/Badge/index.tsx","webpack:///./site/assets/images/pic_160.png"],"names":["useUpdateEffect","effect","deps","isInitialMount","current","MonitorState","initState","_this","this","unsubscribe","callback","subscribes","index","findSubscribe","splice","setState","value","previousState","forEach","fn","prototype","findIndex","subscribe","push","getState","getNumberBit","num","digits","bits","toString","split","reverse","length","parseInt","memo","props","_a","prefixCls","className","_b","_c","count","ref","position","lastCountRef","currentBit","lastBit","undefined","diff","bitDiff","Math","abs","useScrollNumber","createElement","onTransitionEnd","e","element","style","transition","transform","scrollTop","numberList","i","key","renderNumberList","overflowCount","showZero","_count","min","countStr","classString","map","v","ScrollNumberItem","status","children","dot","positionStyle","offset","text","rest","showDot","BadgeDot","dot__hidden","Page","title","introduce","List","ListItem","arrow","footer","href","head","marginRight","src","width","display","fontSize","color","marginLeft","backgroundColor","module","exports"],"mappings":"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","file":"js/29.chunk.js","sourcesContent":["import { useEffect } from \"react\";\r\nexport var useMount = function (mount) { return useEffect(mount, []); };\r\n//# sourceMappingURL=useMount.js.map","import { useEffect, useRef } from \"react\";\r\nexport var useUpdateEffect = function (effect, deps) {\r\n    var isInitialMount = useRef(true);\r\n    useEffect(isInitialMount.current\r\n        ? function () {\r\n            isInitialMount.current = false;\r\n        }\r\n        : effect, deps);\r\n};\r\n//# sourceMappingURL=useUpdateEffect.js.map","import { useState, useEffect } from \"react\";\r\nvar MonitorState = /** @class */ (function () {\r\n    function MonitorState(initState) {\r\n        var _this = this;\r\n        this.unsubscribe = function (callback) {\r\n            var subscribes = _this.subscribes;\r\n            var index = _this.findSubscribe(callback);\r\n            if (index !== -1) {\r\n                subscribes.splice(index, 1);\r\n            }\r\n        };\r\n        this.setState = function (value) {\r\n            _this.previousState = value;\r\n            _this.subscribes.forEach(function (fn) { return fn(value); });\r\n        };\r\n        this.previousState = initState;\r\n        this.subscribes = [];\r\n    }\r\n    MonitorState.prototype.findSubscribe = function (callback) {\r\n        return this.subscribes.findIndex(function (fn) { return fn === callback; });\r\n    };\r\n    MonitorState.prototype.subscribe = function (callback) {\r\n        var _this = this;\r\n        var subscribes = this.subscribes;\r\n        var index = this.findSubscribe(callback);\r\n        if (index === -1) {\r\n            subscribes.push(callback);\r\n        }\r\n        else {\r\n            subscribes[index] = callback;\r\n        }\r\n        // 返回取消订阅得函数\r\n        return function () { return _this.unsubscribe(callback); };\r\n    };\r\n    MonitorState.prototype.getState = function () {\r\n        return this.previousState;\r\n    };\r\n    return MonitorState;\r\n}());\r\nexport { MonitorState };\r\nexport function useGlobalState(state) {\r\n    var _a = useState(state.getState()), val = _a[0], setVal = _a[1];\r\n    useEffect(function () {\r\n        var unsubscribe = state.subscribe(function (value) {\r\n            setVal(value);\r\n        });\r\n        return unsubscribe;\r\n    }, [1]);\r\n    return [val, state.setState];\r\n}\r\n//# sourceMappingURL=useGlobalState.js.map","import classNames from \"classnames\";\nimport React, { useRef } from \"react\";\nimport { useUpdateEffect } from \"utils-hooks\";\nfunction getNumberBit(num, digits) {\n    var bits = num\n        .toString()\n        .split(\"\")\n        .reverse();\n    if (digits <= bits.length - 1) {\n        return parseInt(bits[digits]);\n    }\n    else {\n        return undefined;\n    }\n}\nfunction useScrollNumber(count, digits) {\n    var lastCountRef = useRef(count);\n    var currentBit = getNumberBit(count, digits);\n    var lastBit = getNumberBit(lastCountRef.current, digits);\n    if (currentBit === undefined) {\n        return null;\n    }\n    useUpdateEffect(function () {\n        lastCountRef.current = count;\n    }, [count]);\n    var diff = lastCountRef.current - count;\n    var bitDiff = Math.abs(lastBit - currentBit);\n    var position;\n    // 如跳转不是连续的\n    if (bitDiff !== 1 && bitDiff !== 0) {\n        if (diff < 0) {\n            position = 20 + currentBit;\n        }\n        else {\n            position = currentBit;\n        }\n    }\n    else {\n        position = 10 + currentBit;\n    }\n    return position;\n}\nexport function ScrollNumber(props) {\n    var _a = props.prefixCls, prefixCls = _a === void 0 ? \"xy-scroll-number-item\" : _a, className = props.className, _b = props.digits, digits = _b === void 0 ? 0 : _b, _c = props.count, count = _c === void 0 ? 0 : _c;\n    var ref = useRef(null);\n    var position = useScrollNumber(count, digits);\n    function handleTransitionEnd(e) {\n        var element = ref.current;\n        if (element && (position < 10 || position >= 20)) {\n            element.style.transition = \"none\";\n            element.style.transform = \"translateY(-\" + (10 + getNumberBit(count, digits)) * 100 + \"%)\";\n            // Tips: 确保dom操作执行完毕\n            element && element.scrollTop;\n            element.style.transition = null;\n        }\n    }\n    function renderNumberList() {\n        var numberList = [];\n        for (var i = 0; i < 30; ++i) {\n            numberList.push(React.createElement(\"p\", { className: classNames({ current: position === i }), key: i }, i % 10));\n        }\n        return numberList;\n    }\n    return (React.createElement(\"span\", { ref: ref, className: classNames(prefixCls, className), onTransitionEnd: handleTransitionEnd, style: { transform: \"translateY(-\" + position * 100 + \"%)\" } }, renderNumberList()));\n}\nexport default React.memo(ScrollNumber);\n//# sourceMappingURL=ScrollNumberItem.js.map","import classNames from \"classnames\";\nimport React from \"react\";\nimport ScrollNumberItem from \"./ScrollNumberItem\";\nexport function ScrollNumber(props) {\n    var _a;\n    var _b = props.prefixCls, prefixCls = _b === void 0 ? \"xy-scroll-number\" : _b, className = props.className, style = props.style, count = props.count, overflowCount = props.overflowCount, showZero = props.showZero;\n    var _count = overflowCount ? Math.min(count, overflowCount) : count;\n    var countStr = _count.toString();\n    var classString = classNames(prefixCls, className, (_a = {},\n        _a[prefixCls + \"__hidden\"] = count === undefined || count === null || showZero ? count < 0 : count <= 0,\n        _a));\n    return (React.createElement(\"sup\", { className: classString, style: style },\n        countStr.split(\"\").map(function (v, i) { return (React.createElement(ScrollNumberItem, { key: i, count: _count, digits: countStr.length - 1 - i })); }),\n        overflowCount && count > overflowCount && React.createElement(\"span\", { className: prefixCls + \"__text\" }, \"+\")));\n}\nexport default React.memo(ScrollNumber);\n//# sourceMappingURL=ScrollNumber.js.map","import classNames from \"classnames\";\nimport React from \"react\";\nexport function Badge(props) {\n    var _a;\n    var _b = props.prefixCls, prefixCls = _b === void 0 ? \"xy-badge-dot\" : _b, className = props.className, style = props.style, status = props.status, children = props.children;\n    var classString = classNames(prefixCls, className, (_a = {},\n        _a[prefixCls + \"__status_\" + status] = !!status,\n        _a));\n    return (React.createElement(\"span\", { className: classString, style: style },\n        React.createElement(\"span\", { className: prefixCls + \"-status\" }),\n        children && React.createElement(\"span\", { className: prefixCls + \"-text\" }, children)));\n}\nexport default React.memo(Badge);\n//# sourceMappingURL=BadgeDot.js.map","import { __assign, __rest } from \"tslib\";\nimport classNames from \"classnames\";\nimport React from \"react\";\nimport ScrollNumber from \"./ScrollNumber\";\nimport BadgeDot from \"./BadgeDot\";\nexport function Badge(props) {\n    var _a;\n    var _b = props.prefixCls, prefixCls = _b === void 0 ? \"xy-badge\" : _b, className = props.className, style = props.style, dot = props.dot, positionStyle = props.positionStyle, offset = props.offset, status = props.status, text = props.text, children = props.children, rest = __rest(props, [\"prefixCls\", \"className\", \"style\", \"dot\", \"positionStyle\", \"offset\", \"status\", \"text\", \"children\"]);\n    var showDot = !(\"count\" in props);\n    var classString = classNames(prefixCls, className, (_a = {},\n        _a[prefixCls + \"-not-wrapper\"] = !children,\n        _a[prefixCls + \"-status\"] = showDot,\n        _a));\n    return (React.createElement(\"span\", { className: classString, style: style },\n        children,\n        React.createElement(\"span\", { className: prefixCls + \"-position\" }, showDot ? (React.createElement(BadgeDot, { className: classNames({ dot__hidden: !dot && !status }), style: positionStyle, status: status }, text)) : (React.createElement(ScrollNumber, __assign({ style: positionStyle }, rest))))));\n}\nexport default React.memo(Badge);\n//# sourceMappingURL=Badge.js.map","import { Badge } from \"xy-badge\";\nimport \"xy-badge/assets/index.css\";\nexport default Badge;\n","import React from \"react\";\nimport Page from \"site/components/Page\";\nimport { List, ListItem, Badge } from \"weui-react\";\nfunction Badgedemo() {\n    return (React.createElement(Page, { className: \"preview-demo\", title: \"Badge\", introduce: \"\\u5FBD\\u7AE0\" },\n        React.createElement(List, { title: \"\\u65B0\\u6D88\\u606F\\u63D0\\u793A\\u8DDF\\u6458\\u8981\\u4FE1\\u606F\\u540E\\uFF0C\\u7EDF\\u4E00\\u5728\\u5217\\u8868\\u53F3\\u4FA7\" },\n            React.createElement(ListItem, { arrow: true, footer: React.createElement(Badge, { dot: true },\n                    React.createElement(\"a\", { href: \"#\" }, \"\\u8BE6\\u7EC6\\u4FE1\\u606F\")) }, \"\\u5355\\u884C\\u5217\\u8868\")),\n        React.createElement(List, { title: \"\\u672A\\u8BFB\\u6570\\u7EA2\\u70B9\\u8DDF\\u5728\\u4E3B\\u9898\\u4FE1\\u606F\\u540E\\uFF0C\\u7EDF\\u4E00\\u5728\\u5217\\u8868\\u5DE6\\u4FA7\" },\n            React.createElement(ListItem, { head: React.createElement(Badge, { count: 8, style: { marginRight: \"15px\" } },\n                    React.createElement(\"img\", { src: require(\"site/assets/images/pic_160.png\"), style: { width: \"50px\", display: \"block\" } })) },\n                React.createElement(\"p\", null, \"\\u8054\\u7CFB\\u4EBA\\u540D\\u79F0\"),\n                React.createElement(\"p\", { style: { fontSize: \"13px\", color: \"#888888\" } }, \"\\u6458\\u8981\\u4FE1\\u606F\")),\n            React.createElement(ListItem, { arrow: true },\n                React.createElement(\"span\", null, \"\\u5355\\u884C\\u5217\\u8868\"),\n                React.createElement(Badge, { count: 8, overflowCount: 99, style: { marginLeft: \"5px\" } })),\n            React.createElement(ListItem, { arrow: true, footer: \"\\u8BE6\\u7EC6\\u4FE1\\u606F\" },\n                React.createElement(\"span\", null, \"\\u5355\\u884C\\u5217\\u8868\"),\n                React.createElement(Badge, { count: 8, positionStyle: { backgroundColor: \"#52c41a\" }, style: { marginLeft: \"5px\" } })))));\n}\nexport default React.memo(Badgedemo);\n","module.exports = __webpack_public_path__ + \"images/pic_160.6961380.png\";"],"sourceRoot":""}