{"version":3,"sources":["webpack:///./components/Popup/PopupToBody.tsx","webpack:///./components/Icon/index.tsx","webpack:///./components/Popup/Popup.tsx","webpack:///./components/Toast/Toast.tsx","webpack:///./components/Toast/index.tsx","webpack:///./site/pages/FeedBack/Toast/index.tsx"],"names":["Component","props","closeFunc","div","document","createElement","body","appendChild","render","defaultVisible","getCloseFunc","close","getContainer","onUnmount","unmountComponentAtNode","parentNode","removeChild","memo","_a","prefixCls","className","style","onClick","icon","_b","spin","children","internal","Icon","_c","animateClassName","popupClassName","popupContentCLassName","duration","onVisibleChange","_d","mask","_e","maskClose","_f","visible","setVisible","isControll","_g","ref","state","opening","indexOf","animateclassString","firstFlagRef","renderPortal","handleChange","_open","closeByMask","current","timeHandler","setTimeout","clearTimeout","content","type","rest","Popup","Loading","getIcon","Toast","success","msg","options","Object","assign","fail","info","loading","title","introduce"],"mappings":"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","file":"js/15.chunk.js","sourcesContent":["import { __assign } from \"tslib\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nfunction PopupComponent(Component, props) {\n    var closeFunc;\n    var div = document.createElement(\"div\");\n    document.body.appendChild(div);\n    ReactDOM.render(React.createElement(Component, __assign({}, props, { defaultVisible: true, getCloseFunc: function (close) {\n            closeFunc = close;\n        }, getContainer: div, onUnmount: function () {\n            ReactDOM.unmountComponentAtNode(div);\n            div.parentNode.removeChild(div);\n        } })), div);\n    return closeFunc;\n}\nexport default PopupComponent;\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport \"./style/index.scss\";\n/**\n * 图标\n * @description 配合 @svgr/webpack 使用\n * @param props\n */\nfunction Icon(props) {\n    var _a = props.prefixCls, prefixCls = _a === void 0 ? \"weui-icon\" : _a, className = props.className, style = props.style, onClick = props.onClick, icon = props.icon, _b = props.spin, spin = _b === void 0 ? false : _b, children = props.children;\n    var internal = typeof icon === \"string\";\n    var Icon = icon;\n    return (React.createElement(\"i\", { className: classNames(prefixCls, className, internal ? prefixCls + \"-\" + icon : null, { spin: spin }), style: style, onClick: onClick },\n        !internal && React.createElement(Icon, null),\n        children));\n}\nexport default React.memo(Icon);\n","import classNames from \"classnames\";\nimport React, { useEffect, useRef } from \"react\";\nimport { EXITED, useControll, useMount, useTranstion, ENTERED, usePortal } from \"utils-hooks\";\nimport \"./style/index.scss\";\nfunction Popup(props) {\n    var _a;\n    var _b = props.prefixCls, prefixCls = _b === void 0 ? \"weui-popup\" : _b, _c = props.animateClassName, animateClassName = _c === void 0 ? \"fade\" : _c, popupClassName = props.popupClassName, popupContentCLassName = props.popupContentCLassName, duration = props.duration, onUnmount = props.onUnmount, children = props.children, onVisibleChange = props.onVisibleChange, getCloseFunc = props.getCloseFunc, _d = props.mask, mask = _d === void 0 ? true : _d, _e = props.maskClose, maskClose = _e === void 0 ? true : _e, getContainer = props.getContainer;\n    var _f = useControll(props, \"visible\", \"defaultVisible\"), visible = _f[0], setVisible = _f[1], isControll = _f[2];\n    var _g = useTranstion(visible), ref = _g[0], state = _g[1];\n    var opening = state.indexOf(\"en\") !== -1;\n    var animateclassString = classNames(animateClassName, animateClassName + \"-state-\" + state, (_a = {},\n        _a[animateClassName + \"-open\"] = opening,\n        _a));\n    var firstFlagRef = useRef(visible);\n    var renderPortal = usePortal(\"\", getContainer)[0];\n    function handleChange(_open) {\n        if (!isControll) {\n            setVisible(_open);\n        }\n        if (onVisibleChange) {\n            onVisibleChange(_open);\n        }\n    }\n    function closeByMask() {\n        if (maskClose) {\n            handleChange(false);\n        }\n    }\n    useEffect(function () {\n        if (state === ENTERED) {\n            firstFlagRef.current = true;\n        }\n        else if (state === EXITED && firstFlagRef.current === true) {\n            if (onUnmount) {\n                onUnmount();\n            }\n        }\n    }, [state]);\n    useMount(function () {\n        var timeHandler;\n        if (duration) {\n            timeHandler = setTimeout(function () { return handleChange(false); }, duration);\n        }\n        return function () { return clearTimeout(timeHandler); };\n    });\n    if (getCloseFunc) {\n        getCloseFunc(function () {\n            handleChange(false);\n        });\n    }\n    function content() {\n        var _a;\n        return (React.createElement(\"div\", { className: classNames(prefixCls, popupClassName, prefixCls + \"-state-\" + state, (_a = {}, _a[prefixCls + \"-open\"] = opening, _a)) },\n            React.createElement(\"div\", { className: classNames(prefixCls + \"-mask\", { \"hidden-mask\": !mask }), onClick: closeByMask }),\n            React.createElement(\"div\", { className: classNames(prefixCls + \"-content\", popupContentCLassName, animateclassString), ref: ref }, children)));\n    }\n    return renderPortal(content());\n}\nexport default React.memo(Popup);\n","import { __assign, __rest } from \"tslib\";\nimport classNames from \"classnames\";\nimport React from \"react\";\nimport Icon from \"../Icon\";\nimport Loading from \"../Icon/Loading\";\nimport { Popup } from \"../Popup\";\nimport \"./style/index.scss\";\nfunction getIcon(type) {\n    switch (type) {\n        case \"error\":\n            return React.createElement(Icon, { icon: \"warn\" });\n        case \"info\":\n            return React.createElement(Icon, { icon: \"info\" });\n        case \"loading\":\n            return React.createElement(Loading, null);\n        default:\n            return React.createElement(Icon, { icon: \"success\" });\n    }\n}\nfunction Toast(props) {\n    var _a = props.prefixCls, prefixCls = _a === void 0 ? \"xy-toast\" : _a, className = props.className, style = props.style, _b = props.type, type = _b === void 0 ? \"success\" : _b, children = props.children, _c = props.duration, duration = _c === void 0 ? 3000 : _c, rest = __rest(props, [\"prefixCls\", \"className\", \"style\", \"type\", \"children\", \"duration\"]);\n    return (React.createElement(Popup, __assign({}, rest, { duration: duration, mask: false, maskClose: false, popupClassName: prefixCls + \"-popup\", popupContentCLassName: prefixCls + \"-wrapper\" }),\n        React.createElement(\"div\", { className: classNames(prefixCls, className), style: style, \"data-type\": type },\n            React.createElement(\"div\", { className: prefixCls + \"-icon\" }, getIcon(type)),\n            React.createElement(\"div\", { className: prefixCls + \"-msg\" }, children))));\n}\nexport default React.memo(Toast);\n","import ToastComponent from \"./Toast\";\nimport { PopupComponent } from \"../Popup\";\nvar Toast = /** @class */ (function () {\n    function Toast() {\n    }\n    /**\n     * 成功提示\n     * @param msg 提示内容\n     * @param duration 持续时间\n     * @param options\n     */\n    Toast.success = function (msg, duration, options) {\n        return PopupComponent(ToastComponent, Object.assign({}, options, { children: msg, duration: duration, type: \"success\" }));\n    };\n    /**\n     * 失败提示\n     * @param msg 提示内容\n     * @param duration 持续时间\n     * @param options\n     */\n    Toast.fail = function (msg, duration, options) {\n        return PopupComponent(ToastComponent, Object.assign({}, options, { children: msg, duration: duration, type: \"error\" }));\n    };\n    /**\n     * 提示\n     * @param msg 提示内容\n     * @param duration 持续时间\n     * @param options\n     */\n    Toast.info = function (msg, duration, options) {\n        return PopupComponent(ToastComponent, Object.assign({}, options, { children: msg, duration: duration, type: \"info\" }));\n    };\n    /**\n     * 加载提示\n     * @param msg 提示内容\n     * @param duration 持续时间\n     * @param options\n     */\n    Toast.loading = function (msg, duration, options) {\n        return PopupComponent(ToastComponent, Object.assign({}, options, { children: msg, duration: duration, type: \"loading\" }));\n    };\n    return Toast;\n}());\nexport default Toast;\n","import React from \"react\";\nimport Page from \"site/components/Page\";\nimport { Toast, Button } from \"weui-react\";\nfunction ToastDemo() {\n    function success() {\n        Toast.success(\"提交成功\");\n    }\n    function fail() {\n        Toast.fail(\"系统异常\");\n    }\n    function info() {\n        Toast.info(\"本周末将关闭交易\");\n    }\n    function loading() {\n        Toast.loading(\"请稍后\");\n    }\n    return (React.createElement(Page, { title: \"Toast\", introduce: \"\\u8F7B\\u63D0\\u793A\" },\n        React.createElement(Button, { onClick: success }, \"\\u6210\\u529F\\u63D0\\u793A\"),\n        React.createElement(Button, { onClick: fail }, \"\\u5931\\u8D25\\u63D0\\u793A\"),\n        React.createElement(Button, { onClick: info }, \"\\u666E\\u901A\\u63D0\\u793A\"),\n        React.createElement(Button, { onClick: loading }, \"\\u52A0\\u8F7D\\u4E2D\")));\n}\nexport default React.memo(ToastDemo);\n"],"sourceRoot":""}