{"version":3,"sources":["webpack:///./components/List/ListGroup.tsx","webpack:///./components/Form/FormItem.tsx","webpack:///./components/Icon/index.tsx","webpack:///./components/Countdown/index.tsx","webpack:///./site/pages/Form/Form/Structure.tsx","webpack:///./components/Input/Input.tsx","webpack:///./components/Input/InputItem.tsx","webpack:///./components/Checkbox/Checkbox.tsx"],"names":["memo","props","_a","prefixCls","className","style","title","children","_b","formMode","createElement","label","required","footer","arrow","onClick","head","rest","disabled","_c","failValidateResult","setFailValidateResult","_disabled","lastFailValidateRef","classString","current","length","_d","labelStr","setLabel","ref","labelElement","textContent","innerText","Provider","value","onValidateChange","prop","validateResult","lastFailValida","i","findIndex","x","status","filter","msg","icon","spin","internal","Icon","CountdownStatusEnum","onStart","finish","_e","time","_f","countdown","setCountdown","_g","NORMAL","setStatus","timeHandle","_h","loading","setLoading","countdownRef","start","COUNTDOWN","then","keep","doStart","catch","error","stop","clearInterval","window","setInterval","COMPLETE","prev","cloneElement","history","Form","desc","opr","Button","type","goBack","tips","Checkbox","ListGroup","InputItem","clearable","placeholder","pattern","maxLength","Promise","resolve","reject","setTimeout","Input","forwardRef","onBlur","defaultValue","onChange","genericProps","setValue","isControll","event","val","target","e","document","body","scrollTop","documentElement","NumberNormalize","parseFloat","content","FormContext","formMethods","id","name","autoFocus","tabIndex","onFocus","onKeyDown","onCompositionStart","onCompositionEnd","converNumber","visible","setVisible","timeHandler","inputProps","clearTimeout","getFieldValue","normalize","cleanIcon","setFieldValue","FormItem","defaultChecked","stand","checked","setChecked","changeChecked","check","toggle"],"mappings":"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","file":"js/8.chunk.js","sourcesContent":["import React from \"react\";\nimport classNames from \"classnames\";\nimport \"./style/index.scss\";\nimport List from \"./List\";\n/**\n * 列表组\n */\nfunction ListGroup(props) {\n    var _a = props.prefixCls, prefixCls = _a === void 0 ? \"weui-cells\" : _a, className = props.className, style = props.style, title = props.title, children = props.children, _b = props.formMode, formMode = _b === void 0 ? true : _b;\n    return (React.createElement(\"div\", { className: classNames(prefixCls + \"__group\", className, formMode ? \"weui-cells__group_form\" : \"\"), style: style },\n        React.createElement(List, { className: formMode ? \"weui-cells_form\" : \"\", title: title }, children)));\n}\nexport default React.memo(ListGroup);\n","import { __assign, __rest, __spreadArrays } from \"tslib\";\nimport classNames from \"classnames\";\nimport React, { useContext, useRef, useState } from \"react\";\nimport { FormContext, FormItemContext, FormItemField } from \"xy-form\";\nimport { ListItem } from \"../List\";\nimport \"./style/index.scss\";\nfunction FormItem(props) {\n    var _a;\n    var _b = props.prefixCls, prefixCls = _b === void 0 ? \"form-item\" : _b, className = props.className, style = props.style, label = props.label, required = props.required, footer = props.footer, arrow = props.arrow, onClick = props.onClick, children = props.children, head = props.head, disabled = props.disabled, rest = __rest(props, [\"prefixCls\", \"className\", \"style\", \"label\", \"required\", \"footer\", \"arrow\", \"onClick\", \"children\", \"head\", \"disabled\"]);\n    var _c = useState([]), failValidateResult = _c[0], setFailValidateResult = _c[1];\n    var content = useContext(FormContext);\n    var _disabled = content.disabled || props.disabled;\n    // Tips: 通过ref来确保failValidateResult是最新的值, validateChangeHandle函数中failValidateResult总是第一次初始化的值!\n    var lastFailValidateRef = useRef(failValidateResult);\n    var classString = classNames(prefixCls, className, (_a = {},\n        _a[prefixCls + \"-required\"] = required,\n        _a[prefixCls + \"-error\"] = lastFailValidateRef.current.length > 0,\n        _a[\"weui-cell_disabled\"] = _disabled,\n        _a));\n    var _d = useState(typeof props.label === \"string\" ? props.label : null), labelStr = _d[0], setLabel = _d[1];\n    function labelMount(labelElement) {\n        if (!labelStr && labelElement) {\n            setLabel(labelElement.textContent || labelElement.innerText);\n        }\n    }\n    function validateChangeHandle(prop, validateResult) {\n        var lastFailValida = lastFailValidateRef.current;\n        var i = lastFailValida.findIndex(function (x) { return x.prop === prop; });\n        if (validateResult.status) {\n            if (i !== -1) {\n                // 清除上一次验证失败\n                lastFailValidateRef.current = lastFailValida.filter(function (x) { return x.prop !== prop; });\n                setFailValidateResult(lastFailValidateRef.current);\n            }\n        }\n        else {\n            if (i !== -1) {\n                lastFailValida[i].msg = validateResult.msg;\n                setFailValidateResult(__spreadArrays(lastFailValida));\n            }\n            else {\n                lastFailValidateRef.current = __spreadArrays(lastFailValida, [__assign({ prop: prop }, validateResult)]);\n                setFailValidateResult(lastFailValidateRef.current);\n            }\n        }\n    }\n    return (React.createElement(ListItem, { className: classString, style: style, arrow: arrow, footer: footer, onClick: onClick, head: head || (React.createElement(\"label\", { className: \"weui-label\", ref: labelMount }, label)) },\n        React.createElement(FormItemContext.Provider, { value: { onValidateChange: validateChangeHandle, label: labelStr } }, \"prop\" in props ? React.createElement(FormItemField, __assign({}, rest), children) : children)));\n}\nexport default React.memo(FormItem);\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport \"./style/index.scss\";\n/**\n * 图标\n * @description 配合 @svgr/webpack 使用\n * @param props\n */\nfunction Icon(props) {\n    var _a = props.prefixCls, prefixCls = _a === void 0 ? \"weui-icon\" : _a, className = props.className, style = props.style, onClick = props.onClick, icon = props.icon, _b = props.spin, spin = _b === void 0 ? false : _b, children = props.children;\n    var internal = typeof icon === \"string\";\n    var Icon = icon;\n    return (React.createElement(\"i\", { className: classNames(prefixCls, className, internal ? prefixCls + \"-\" + icon : null, { spin: spin }), style: style, onClick: onClick },\n        !internal && React.createElement(Icon, null),\n        children));\n}\nexport default React.memo(Icon);\n","import classNames from \"classnames\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useUnmount } from \"utils-hooks\";\nimport \"./style/index.scss\";\n/**\n * 倒计时状态\n */\nexport var CountdownStatusEnum;\n(function (CountdownStatusEnum) {\n    /**\n     * 普通状态\n     */\n    CountdownStatusEnum[CountdownStatusEnum[\"NORMAL\"] = 0] = \"NORMAL\";\n    /**\n     * 倒计时状态\n     */\n    CountdownStatusEnum[CountdownStatusEnum[\"COUNTDOWN\"] = 1] = \"COUNTDOWN\";\n    /**\n     * 倒计时完毕\n     */\n    CountdownStatusEnum[CountdownStatusEnum[\"COMPLETE\"] = 2] = \"COMPLETE\";\n})(CountdownStatusEnum || (CountdownStatusEnum = {}));\nfunction Countdown(props) {\n    var _a;\n    var _b = props.prefixCls, prefixCls = _b === void 0 ? \"xy-count-down\" : _b, className = props.className, style = props.style, children = props.children, _c = props.disabled, disabled = _c === void 0 ? false : _c, onStart = props.onStart, _d = props.finish, finish = _d === void 0 ? \"再次发送\" : _d, _e = props.time, time = _e === void 0 ? 60 : _e;\n    // 验证码倒计时数\n    var _f = useState(0), countdown = _f[0], setCountdown = _f[1];\n    // 状态 0=正常, 1=倒计时, 2=倒计时完毕\n    var _g = useState(CountdownStatusEnum.NORMAL), status = _g[0], setStatus = _g[1];\n    // 计时器句柄\n    var timeHandle = useRef(null);\n    // 是否发送请求中\n    var _h = useState(false), loading = _h[0], setLoading = _h[1];\n    var countdownRef = useRef(0);\n    function start() {\n        if (loading || status === CountdownStatusEnum.COUNTDOWN) {\n            return;\n        }\n        if (onStart) {\n            setLoading(true);\n            onStart(disabled)\n                .then(function (keep) {\n                setLoading(false);\n                if (keep) {\n                    doStart();\n                }\n            })\n                .catch(function (error) {\n                setLoading(false);\n            });\n        }\n        else {\n            doStart();\n        }\n    }\n    function doStart() {\n        if (disabled) {\n            return;\n        }\n        stop();\n        setCountdown(time);\n        countdownRef.current = time;\n        setStatus(CountdownStatusEnum.COUNTDOWN);\n    }\n    function stop() {\n        clearInterval(timeHandle.current);\n    }\n    function complete() {\n        stop();\n        setStatus(CountdownStatusEnum.COMPLETE);\n    }\n    function renderStatusNode() {\n        var label;\n        if (status === CountdownStatusEnum.COUNTDOWN) {\n            label = (React.createElement(\"span\", null,\n                \"\\u5269\\u4F59\",\n                React.createElement(\"span\", { className: prefixCls + \"_timer_text\" }, countdown),\n                \"\\u79D2\"));\n        }\n        else {\n            label = loading ? \"发送中\" : status === CountdownStatusEnum.COMPLETE ? finish : children.props.children;\n        }\n        return React.cloneElement(children, { loading: loading, disabled: disabled, onClick: start, className: \"weui-vcode-btn\", children: label });\n    }\n    useEffect(function () {\n        if (status === CountdownStatusEnum.COUNTDOWN) {\n            timeHandle.current = window.setInterval(function () {\n                if (countdownRef.current <= 0) {\n                    complete();\n                }\n                else {\n                    countdownRef.current = countdownRef.current - 1;\n                    setCountdown(function (prev) { return --prev; });\n                }\n            }, 1000);\n            return stop;\n        }\n    }, [status, countdown]);\n    useUnmount(function () {\n        stop();\n    });\n    return (React.createElement(\"span\", { className: classNames(prefixCls, className, (_a = {}, _a[prefixCls + \"--disabled\"] = disabled, _a)), style: style }, renderStatusNode()));\n}\nexport default React.memo(Countdown);\n","import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { Button, Checkbox, Countdown, Form, InputItem, ListGroup } from \"weui-react\";\nfunction FormStructureDemo(_a) {\n    var history = _a.history;\n    function sendVerifyCode() {\n        return new Promise(function (resolve, reject) {\n            setTimeout(function () {\n                resolve(true);\n            }, 600);\n        });\n    }\n    return (React.createElement(Form, { title: \"\\u8868\\u5355\\u6807\\u9898\", desc: \"\\u8868\\u5355\\u8BF4\\u660E\", opr: React.createElement(Button, { type: \"primary\", onClick: function () { return history.goBack(); } }, \"\\u8FD4\\u56DE\"), tips: React.createElement(Checkbox, { className: \"weui-agree\" },\n            React.createElement(\"span\", { className: \"weui-agree__text\" },\n                \"\\u9605\\u8BFB\\u5E76\\u540C\\u610F\",\n                React.createElement(\"a\", null, \"\\u300A\\u76F8\\u5173\\u6761\\u6B3E\\u300B\"))) },\n        React.createElement(ListGroup, null,\n            React.createElement(InputItem, { prop: \"phone\", label: \"\\u624B\\u673A\\u53F7\", type: \"number\", clearable: true, placeholder: \"\\u8BF7\\u8F93\\u516511\\u4F4D\\u624B\\u673A\\u53F7\", pattern: \"[0-9]*\", maxLength: 11 }),\n            React.createElement(InputItem, { prop: \"code\", className: \"weui-cell_vcode\", label: \"\\u9A8C\\u8BC1\\u7801\", type: \"number\", pattern: \"[0-9]*\", clearable: true, placeholder: \"\\u8BF7\\u8F93\\u5165\\u9A8C\\u8BC1\\u7801\", maxLength: 6, footer: React.createElement(Countdown, { onStart: sendVerifyCode },\n                    React.createElement(Button, null, \"\\u83B7\\u53D6\\u9A8C\\u8BC1\\u7801\")) }),\n            React.createElement(InputItem, { prop: \"name\", label: \"\\u59D3\\u540D\", placeholder: \"\\u8BF7\\u8F93\\u5165\\u60A8\\u7684\\u771F\\u5B9E\\u59D3\\u540D\" }))));\n}\nexport default withRouter(FormStructureDemo);\n","import { __assign, __rest } from \"tslib\";\nimport classNames from \"classnames\";\nimport React from \"react\";\nimport { useControll } from \"utils-hooks\";\nimport \"./style/index.scss\";\nvar Input = React.forwardRef(function (props, ref) {\n    var _a = props.prefixCls, prefixCls = _a === void 0 ? \"weui-input\" : _a, className = props.className, style = props.style, _b = props.type, type = _b === void 0 ? \"text\" : _b, defaultValue = props.defaultValue, onBlur = props.onBlur, onChange = props.onChange, genericProps = __rest(props, [\"prefixCls\", \"className\", \"style\", \"type\", \"defaultValue\", \"onBlur\", \"onChange\"]);\n    var classString = classNames(prefixCls, className);\n    var _c = useControll(props, \"value\", \"defaultValue\"), value = _c[0], setValue = _c[1], isControll = _c[2];\n    function changeValue(val) {\n        if (props.disabled) {\n            return;\n        }\n        if (!isControll) {\n            setValue(val);\n        }\n        if (onChange) {\n            onChange(val);\n        }\n    }\n    function changeHandle(event) {\n        changeValue(event.target.value);\n    }\n    function blurHandle(e) {\n        if (onBlur) {\n            onBlur(e);\n        }\n        // Tips: 防止ios键盘底部位置空出\n        document.body.scrollTop = 0;\n        document.documentElement.scrollTop = 0;\n    }\n    genericProps[\"style\"] = style;\n    genericProps[\"ref\"] = ref;\n    return React.createElement(\"input\", __assign({}, genericProps, { type: type }, (isControll ? { value: value || \"\" } : { defaultValue: value }), { \"aria-disabled\": props.disabled, className: classString, onChange: changeHandle, onBlur: blurHandle }));\n});\nexport default React.memo(Input);\n","import { __assign, __rest } from \"tslib\";\nimport classNames from \"classnames\";\nimport React, { useContext, useRef, useState } from \"react\";\nimport { useMount } from \"utils-hooks\";\nimport { FormContext } from \"xy-form\";\nimport { FormItem } from \"../Form\";\nimport Icon from \"../Icon\";\nimport Input from \"./Input\";\nimport \"./style/index.scss\";\nfunction NumberNormalize(val) {\n    if (val) {\n        return parseFloat(val);\n    }\n    else {\n        return null;\n    }\n}\nfunction InputItem(props) {\n    var content = useContext(FormContext);\n    var formMethods = content && content.formMethods;\n    var type = props.type, prefixCls = props.prefixCls, className = props.className, style = props.style, id = props.id, name = props.name, value = props.value, defaultValue = props.defaultValue, placeholder = props.placeholder, autoFocus = props.autoFocus, tabIndex = props.tabIndex, onFocus = props.onFocus, onBlur = props.onBlur, onKeyDown = props.onKeyDown, onChange = props.onChange, onCompositionStart = props.onCompositionStart, onCompositionEnd = props.onCompositionEnd, pattern = props.pattern, maxLength = props.maxLength, _a = props.clearable, clearable = _a === void 0 ? false : _a, _b = props.converNumber, converNumber = _b === void 0 ? false : _b, rest = __rest(props, [\"type\", \"prefixCls\", \"className\", \"style\", \"id\", \"name\", \"value\", \"defaultValue\", \"placeholder\", \"autoFocus\", \"tabIndex\", \"onFocus\", \"onBlur\", \"onKeyDown\", \"onChange\", \"onCompositionStart\", \"onCompositionEnd\", \"pattern\", \"maxLength\", \"clearable\", \"converNumber\"]);\n    var _c = useState(false), visible = _c[0], setVisible = _c[1];\n    var timeHandler = useRef(null);\n    var inputProps = {\n        type: type,\n        prefixCls: prefixCls,\n        style: style,\n        id: id,\n        name: name,\n        value: value,\n        defaultValue: defaultValue,\n        placeholder: placeholder,\n        autoFocus: autoFocus,\n        tabIndex: tabIndex,\n        onFocus: focusHandle,\n        onBlur: blurHandle,\n        onKeyDown: onKeyDown,\n        onChange: changeHandle,\n        onCompositionStart: onCompositionStart,\n        onCompositionEnd: onCompositionEnd,\n        pattern: pattern,\n        maxLength: maxLength,\n    };\n    if (\"disabled\" in props) {\n        inputProps.disabled = props.disabled;\n    }\n    if (converNumber && props.type === \"number\" && !props.normalize) {\n        rest.normalize = NumberNormalize;\n    }\n    function changeHandle(val) {\n        if (val) {\n            if (!visible) {\n                setVisible(true);\n            }\n        }\n        else {\n            if (visible) {\n                setVisible(false);\n            }\n        }\n        if (onChange) {\n            onChange(val);\n        }\n    }\n    function focusHandle(e) {\n        window.clearTimeout(timeHandler.current);\n        if (onFocus) {\n            onFocus(e);\n        }\n        if (formMethods && props.prop) {\n            if (formMethods.getFieldValue(props.prop) && !visible) {\n                setVisible(true);\n            }\n        }\n    }\n    function blurHandle(e) {\n        if (onBlur) {\n            onBlur(e);\n        }\n        // blur 太快将 cleanIcon 隐藏，则 cleanIcon的onClick清除事件会无效\n        timeHandler.current = setTimeout(function () {\n            if (visible) {\n                setVisible(false);\n            }\n        }, 50);\n        // Tips: 防止ios键盘底部位置空出\n        // document.body.scrollTop = 0;\n        // document.documentElement.scrollTop = 0;\n    }\n    function clean() {\n        if (formMethods && props.prop) {\n            // Tips: 外部必须设置 prop 全路径\n            formMethods.setFieldValue(props.prop, \"\");\n        }\n    }\n    var cleanIcon = (React.createElement(\"a\", { className: classNames(\"weui-btn_reset weui-btn_icon weui-btn_input-clear\", { visible: visible && clearable }), onClick: clean },\n        React.createElement(Icon, { icon: \"clear\" })));\n    useMount(function () {\n        window.clearTimeout(timeHandler.current);\n    });\n    return (React.createElement(FormItem, __assign({}, rest, { className: classNames(className, \"input-item\"), footer: rest.footer || cleanIcon }),\n        React.createElement(Input, __assign({}, inputProps))));\n}\nexport default React.memo(InputItem);\n","import { __assign, __rest } from \"tslib\";\nimport classNames from \"classnames\";\nimport React from \"react\";\nimport { useControll } from \"utils-hooks\";\nimport Icon from \"../Icon\";\nimport \"./style/index.scss\";\nvar Checkbox = React.forwardRef(function (props, ref) {\n    var _a;\n    var _b = props.prefixCls, prefixCls = _b === void 0 ? \"weui-check\" : _b, className = props.className, style = props.style, defaultChecked = props.defaultChecked, children = props.children, _c = props.stand, stand = _c === void 0 ? false : _c, rest = __rest(props, [\"prefixCls\", \"className\", \"style\", \"defaultChecked\", \"children\", \"stand\"]);\n    var _d = useControll(props, \"checked\", \"defaultChecked\", false), checked = _d[0], setChecked = _d[1], isControll = _d[2];\n    var classString = classNames(prefixCls, (_a = {},\n        _a[prefixCls + \"-checked\"] = checked,\n        _a[prefixCls + \"-disabled\"] = props.disabled,\n        _a));\n    function changeChecked(check) {\n        if (props.disabled) {\n            return;\n        }\n        if (!isControll) {\n            // 非受控组件将当前checked作为唯一数据源\n            setChecked(check);\n        }\n        if (props.onChange) {\n            props.onChange(check, props.value);\n        }\n    }\n    function handleCheckChange(e) {\n        changeChecked(e.target.checked);\n    }\n    function toggle() {\n        if (!(\"checked\" in props) || stand) {\n            changeChecked(!checked);\n        }\n    }\n    return (React.createElement(\"span\", { className: classNames(\"checkbox-wrap\", className) },\n        React.createElement(\"input\", __assign({}, rest, { value: rest.value || \"\" }, (isControll ? { checked: checked } : { defaultChecked: checked }), { type: \"checkbox\", \"aria-disabled\": props.disabled, className: classString, onChange: handleCheckChange, ref: ref })),\n        React.createElement(Icon, { icon: \"checked\", onClick: toggle }),\n        children && React.cloneElement(children, { onClick: toggle })));\n});\nexport default React.memo(Checkbox);\n"],"sourceRoot":""}