{"version":3,"sources":["webpack:///./components/Popup/PopupToBody.tsx","webpack:///./components/Popup/Popup.tsx","webpack:///./site/pages/FeedBack/Tooptips/index.tsx","webpack:///./components/Tooptips/Tooptips.tsx","webpack:///./components/Tooptips/index.ts"],"names":["Component","props","closeFunc","div","document","createElement","body","appendChild","render","defaultVisible","getCloseFunc","close","getContainer","onUnmount","unmountComponentAtNode","parentNode","removeChild","memo","_a","_b","prefixCls","_c","animateClassName","popupClassName","popupContentCLassName","duration","children","onVisibleChange","_d","mask","_e","maskClose","_f","visible","setVisible","isControll","_g","ref","state","opening","indexOf","animateclassString","firstFlagRef","renderPortal","handleChange","_open","closeByMask","current","timeHandler","setTimeout","clearTimeout","className","onClick","content","title","introduce","type","style","rest","Popup","TooptipsPopup"],"mappings":"mHAAA,0DAee,IAZf,SAAwBA,EAAWC,GAC/B,IAAIC,EACAC,EAAMC,SAASC,cAAc,OAQjC,OAPAD,SAASE,KAAKC,YAAYJ,GAC1B,IAASK,OAAO,IAAMH,cAAcL,EAAW,YAAS,GAAIC,EAAO,CAAEQ,gBAAgB,EAAMC,aAAc,SAAUC,GAC3GT,EAAYS,GACbC,aAAcT,EAAKU,UAAW,WAC7B,IAASC,uBAAuBX,GAChCA,EAAIY,WAAWC,YAAYb,OACxBA,GACJD,I,kCCbX,oEA0De,QAAMe,MAtDrB,SAAehB,GACX,IAAIiB,EACAC,EAAKlB,EAAMmB,UAAWA,OAAmB,IAAPD,EAAgB,aAAeA,EAAIE,EAAKpB,EAAMqB,iBAAkBA,OAA0B,IAAPD,EAAgB,OAASA,EAAIE,EAAiBtB,EAAMsB,eAAgBC,EAAwBvB,EAAMuB,sBAAuBC,EAAWxB,EAAMwB,SAAUZ,EAAYZ,EAAMY,UAAWa,EAAWzB,EAAMyB,SAAUC,EAAkB1B,EAAM0B,gBAAiBjB,EAAeT,EAAMS,aAAckB,EAAK3B,EAAM4B,KAAMA,OAAc,IAAPD,GAAuBA,EAAIE,EAAK7B,EAAM8B,UAAWA,OAAmB,IAAPD,GAAuBA,EAAIlB,EAAeX,EAAMW,aAClhBoB,EAAK,YAAY/B,EAAO,UAAW,kBAAmBgC,EAAUD,EAAG,GAAIE,EAAaF,EAAG,GAAIG,EAAaH,EAAG,GAC3GI,EAAK,YAAaH,GAAUI,EAAMD,EAAG,GAAIE,EAAQF,EAAG,GACpDG,GAAmC,IAAzBD,EAAME,QAAQ,MACxBC,EAAqB,IAAWnB,EAAkBA,EAAmB,UAAYgB,IAAQpB,EAAK,IAC3FI,EAAmB,SAAWiB,EACjCrB,IACAwB,EAAe,iBAAOT,GACtBU,EAAe,YAAU,GAAI/B,GAAc,GAC/C,SAASgC,EAAaC,GACbV,GACDD,EAAWW,GAEXlB,GACAA,EAAgBkB,GAGxB,SAASC,IACDf,GACAa,GAAa,GA+BrB,OA5BA,qBAAU,WACFN,IAAU,IACVI,EAAaK,SAAU,EAElBT,IAAU,MAAmC,IAAzBI,EAAaK,SAClClC,GACAA,MAGT,CAACyB,IACJ,aAAS,WACL,IAAIU,EAIJ,OAHIvB,IACAuB,EAAcC,YAAW,WAAc,OAAOL,GAAa,KAAWnB,IAEnE,WAAc,OAAOyB,aAAaF,OAEzCtC,GACAA,GAAa,WACTkC,GAAa,MASdD,EANP,WACI,IAAIzB,EACJ,OAAQ,IAAMb,cAAc,MAAO,CAAE8C,UAAW,IAAW/B,EAAWG,EAAgBH,EAAY,UAAYkB,GAAQpB,EAAK,GAAIA,EAAGE,EAAY,SAAWmB,EAASrB,KAC9J,IAAMb,cAAc,MAAO,CAAE8C,UAAW,IAAW/B,EAAY,QAAS,CAAE,eAAgBS,IAASuB,QAASN,IAC5G,IAAMzC,cAAc,MAAO,CAAE8C,UAAW,IAAW/B,EAAY,WAAYI,EAAuBiB,GAAqBJ,IAAKA,GAAOX,IAEvH2B,Q,kCCxDxB,oEAoBe,cAAMpC,MAjBrB,WAaI,OAAQ,IAAMZ,cAAc,IAAM,CAAEiD,MAAO,WAAYC,UAAW,qBAC9D,IAAMlD,cAAc,IAAQ,CAAE+C,QAblC,WACI,YAAc,CACVI,KAAM,UACN9B,SAAU,WAUoC,QAClD,IAAMrB,cAAc,IAAQ,CAAE+C,QARlC,WACI,YAAc,CACVI,KAAM,OACN9B,SAAU,aAKiC,a,yICRxC,UAAMT,MALrB,SAAkBhB,GACd,IAAIiB,EAAKjB,EAAMmB,UAAWA,OAAmB,IAAPF,EAAgB,eAAiBA,EAAIiC,EAAYlD,EAAMkD,UAAWM,EAAQxD,EAAMwD,MAAOtC,EAAKlB,EAAMuD,KAAMA,OAAc,IAAPrC,EAAgB,OAASA,EAAIO,EAAWzB,EAAMyB,SAAUL,EAAKpB,EAAMwB,SAAUA,OAAkB,IAAPJ,EAAgB,IAAOA,EAAIqC,EAAO,YAAOzD,EAAO,CAAC,YAAa,YAAa,QAAS,OAAQ,WAAY,aACrV,OAAQ,IAAMI,cAAcsD,EAAA,EAAO,YAAS,GAAID,EAAM,CAAE7B,MAAM,EAAOE,WAAW,EAAON,SAAUA,EAAUH,iBAAkB,UAAWE,sBAAuBJ,EAAY,aACvK,IAAMf,cAAc,MAAO,CAAE8C,UAAW,IAAW/B,EAAW+B,EAAW/B,EAAY,SAAWoC,GAAOC,MAAOA,GAAS/B,O,YCN/H,SAASkC,EAAc3D,GACnB,OAAO,YAAe,EAAUA,GAHpC","file":"js/18.chunk.js","sourcesContent":["import { __assign } from \"tslib\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nfunction PopupComponent(Component, props) {\n    var closeFunc;\n    var div = document.createElement(\"div\");\n    document.body.appendChild(div);\n    ReactDOM.render(React.createElement(Component, __assign({}, props, { defaultVisible: true, getCloseFunc: function (close) {\n            closeFunc = close;\n        }, getContainer: div, onUnmount: function () {\n            ReactDOM.unmountComponentAtNode(div);\n            div.parentNode.removeChild(div);\n        } })), div);\n    return closeFunc;\n}\nexport default PopupComponent;\n","import classNames from \"classnames\";\nimport React, { useEffect, useRef } from \"react\";\nimport { EXITED, useControll, useMount, useTranstion, ENTERED, usePortal } from \"utils-hooks\";\nimport \"./style/index.scss\";\nfunction Popup(props) {\n    var _a;\n    var _b = props.prefixCls, prefixCls = _b === void 0 ? \"weui-popup\" : _b, _c = props.animateClassName, animateClassName = _c === void 0 ? \"fade\" : _c, popupClassName = props.popupClassName, popupContentCLassName = props.popupContentCLassName, duration = props.duration, onUnmount = props.onUnmount, children = props.children, onVisibleChange = props.onVisibleChange, getCloseFunc = props.getCloseFunc, _d = props.mask, mask = _d === void 0 ? true : _d, _e = props.maskClose, maskClose = _e === void 0 ? true : _e, getContainer = props.getContainer;\n    var _f = useControll(props, \"visible\", \"defaultVisible\"), visible = _f[0], setVisible = _f[1], isControll = _f[2];\n    var _g = useTranstion(visible), ref = _g[0], state = _g[1];\n    var opening = state.indexOf(\"en\") !== -1;\n    var animateclassString = classNames(animateClassName, animateClassName + \"-state-\" + state, (_a = {},\n        _a[animateClassName + \"-open\"] = opening,\n        _a));\n    var firstFlagRef = useRef(visible);\n    var renderPortal = usePortal(\"\", getContainer)[0];\n    function handleChange(_open) {\n        if (!isControll) {\n            setVisible(_open);\n        }\n        if (onVisibleChange) {\n            onVisibleChange(_open);\n        }\n    }\n    function closeByMask() {\n        if (maskClose) {\n            handleChange(false);\n        }\n    }\n    useEffect(function () {\n        if (state === ENTERED) {\n            firstFlagRef.current = true;\n        }\n        else if (state === EXITED && firstFlagRef.current === true) {\n            if (onUnmount) {\n                onUnmount();\n            }\n        }\n    }, [state]);\n    useMount(function () {\n        var timeHandler;\n        if (duration) {\n            timeHandler = setTimeout(function () { return handleChange(false); }, duration);\n        }\n        return function () { return clearTimeout(timeHandler); };\n    });\n    if (getCloseFunc) {\n        getCloseFunc(function () {\n            handleChange(false);\n        });\n    }\n    function content() {\n        var _a;\n        return (React.createElement(\"div\", { className: classNames(prefixCls, popupClassName, prefixCls + \"-state-\" + state, (_a = {}, _a[prefixCls + \"-open\"] = opening, _a)) },\n            React.createElement(\"div\", { className: classNames(prefixCls + \"-mask\", { \"hidden-mask\": !mask }), onClick: closeByMask }),\n            React.createElement(\"div\", { className: classNames(prefixCls + \"-content\", popupContentCLassName, animateclassString), ref: ref }, children)));\n    }\n    return renderPortal(content());\n}\nexport default React.memo(Popup);\n","import React from \"react\";\nimport Page from \"site/components/Page\";\nimport { TooptipsPopup, Button } from \"weui-react\";\nfunction TooptipsDemo() {\n    function success() {\n        TooptipsPopup({\n            type: \"success\",\n            children: \"提交成功\",\n        });\n    }\n    function fail() {\n        TooptipsPopup({\n            type: \"fail\",\n            children: \"金额不能为空\",\n        });\n    }\n    return (React.createElement(Page, { title: \"Tooptips\", introduce: \"\\u5728\\u9876\\u90E8\\u5F39\\u51FA\\u63D0\\u793A, \\u4E0D\\u6253\\u65AD\\u7528\\u6237\\u64CD\\u4F5C.\" },\n        React.createElement(Button, { onClick: success }, \"\\u6210\\u529F\\u63D0\\u793A\"),\n        React.createElement(Button, { onClick: fail }, \"\\u9519\\u8BEF\\u63D0\\u793A\")));\n}\nexport default React.memo(TooptipsDemo);\n","import { __assign, __rest } from \"tslib\";\nimport classNames from \"classnames\";\nimport React from \"react\";\nimport { Popup } from \"../Popup\";\nimport \"./style/index.scss\";\nfunction Tooptips(props) {\n    var _a = props.prefixCls, prefixCls = _a === void 0 ? \"weui-toptips\" : _a, className = props.className, style = props.style, _b = props.type, type = _b === void 0 ? \"fail\" : _b, children = props.children, _c = props.duration, duration = _c === void 0 ? 3000 : _c, rest = __rest(props, [\"prefixCls\", \"className\", \"style\", \"type\", \"children\", \"duration\"]);\n    return (React.createElement(Popup, __assign({}, rest, { mask: false, maskClose: false, duration: duration, animateClassName: \"drillUp\", popupContentCLassName: prefixCls + \"-wrapper\" }),\n        React.createElement(\"div\", { className: classNames(prefixCls, className, prefixCls + \"-type-\" + type), style: style }, children)));\n}\nexport default React.memo(Tooptips);\n","import Tooptips from \"./Tooptips\";\nimport { PopupComponent } from \"../Popup\";\nfunction TooptipsPopup(props) {\n    return PopupComponent(Tooptips, props);\n}\nexport { Tooptips, TooptipsPopup };\n"],"sourceRoot":""}